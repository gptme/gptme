
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Lessons &#8212; gptme</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/asciinema-player_3.6.3.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=3a28e17f" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/asciinema-player_3.6.3.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lessons';</script>
    <link rel="canonical" href="https://gptme.org/docs/lessons.html" />
    <link rel="icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="config.html" />
    <link rel="prev" title="Tools" href="tools.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="gptme - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="gptme - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples.html">Examples</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="automation.html">Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="projects.html">Projects</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lessons</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="providers.html">Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-providers.html">Custom OpenAI-Compatible Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcp.html">MCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building Executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="prompts.html">Prompts</a></li>
<li class="toctree-l1"><a class="reference internal" href="evals.html">Evals</a></li>
<li class="toctree-l1"><a class="reference internal" href="bot.html">GitHub Bot</a></li>
<li class="toctree-l1"><a class="reference internal" href="finetuning.html">Finetuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_tool.html">Custom Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="alternatives.html">Alternatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="arewetiny.html">Are we tiny?</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeline.html">Timeline</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="changelog.html">Changelog</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.29.0.html">v0.29.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.28.3.html">v0.28.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.28.2.html">v0.28.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.28.1.html">v0.28.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.28.0.html">v0.28.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.27.0.html">v0.27.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.26.0.html">v0.26.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.25.0.html">v0.25.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.24.1.html">v0.24.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.24.0.html">v0.24.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.23.0.html">v0.23.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.22.0.html">v0.22.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.21.0.html">v0.21.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.20.0.html">v0.20.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.19.0.html">v0.19.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.18.0.html">v0.18.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.17.0.html">v0.17.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.16.0.html">v0.16.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.15.0.html">v0.15.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.14.0.html">v0.14.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.13.0.html">v0.13.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.12.0.html">v0.12.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.11.0.html">v0.11.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.5.html">v0.10.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.4.html">v0.10.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.3.html">v0.10.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.2.html">v0.10.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.1.html">v0.10.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.10.0.html">v0.10.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.9.4.html">v0.9.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.9.3.html">v0.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.9.2.html">v0.9.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.9.1.html">v0.9.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.9.0.html">v0.9.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.8.1.html">v0.8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.8.0.html">v0.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.7.0.html">v0.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.6.1.html">v0.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.6.0.html">v0.6.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.5.0.html">v0.5.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.4.2.html">v0.4.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.4.1.html">v0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.4.0.html">v0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.3.3.html">v0.3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.3.2.html">v0.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.3.1.html">v0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.3.0.html">v0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.2.2.html">v0.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.2.1.html">v0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases/v0.1.1.html">v0.1.1</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">External</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/gptme/gptme">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://discord.gg/NMaCmmkxWv">Discord</a></li>
<li class="toctree-l1"><a class="reference external" href="https://x.com/gptmeorg">X</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gptme/gptme" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gptme/gptme/edit/main/docs/lessons.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/lessons.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lessons</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-lessons-work">How Lessons Work</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lesson-format">Lesson Format</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata-fields">Metadata Fields</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-lessons">Creating Lessons</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-structure">Basic Structure</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lesson-directories">Lesson Directories</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables">Environment Variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keyword-extraction">Keyword Extraction</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cli-commands">CLI Commands</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-lessons">List Lessons</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-lessons">Search Lessons</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#show-lesson-content">Show Lesson Content</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refresh-lessons">Refresh Lessons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-lessons">Example Lessons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#migration-guide">Migration Guide</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-without-frontmatter">Lessons Without Frontmatter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-lessons">Converting Lessons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-not-appearing">Lessons Not Appearing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-lesson-matching">Debug Lesson Matching</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="lessons">
<h1>Lessons<a class="headerlink" href="#lessons" title="Link to this heading">#</a></h1>
<p>The lesson system provides contextual guidance and best practices that are automatically included in conversations when relevant. Lessons help users follow recommended patterns and avoid common pitfalls.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>Lessons are markdown files with YAML frontmatter that specify when they should be included. The system automatically:</p>
<ul class="simple">
<li><p>Indexes lessons from configured directories</p></li>
<li><p>Matches lessons based on keywords and tools used</p></li>
<li><p>Includes relevant lessons in conversation context</p></li>
<li><p>Adapts inclusion behavior for interactive vs autonomous modes</p></li>
</ul>
</section>
<section id="how-lessons-work">
<h2>How Lessons Work<a class="headerlink" href="#how-lessons-work" title="Link to this heading">#</a></h2>
<p>When you start a conversation, gptme:</p>
<ol class="arabic simple">
<li><p>Scans configured lesson directories</p></li>
<li><p>Indexes lessons with their metadata</p></li>
<li><p>Monitors the conversation for keywords and tool usage</p></li>
<li><p>Automatically includes matching lessons</p></li>
<li><p>Limits the number of included lessons to preserve context</p></li>
</ol>
<p>Lessons appear in the conversation context but are hidden by default in the interface. Use <code class="docutils literal notranslate"><span class="pre">/log</span></code> to see which lessons are included.</p>
</section>
<section id="lesson-format">
<h2>Lesson Format<a class="headerlink" href="#lesson-format" title="Link to this heading">#</a></h2>
<p>Lessons use YAML frontmatter for metadata and Markdown for content:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
match:
  keywords: [keyword1, keyword2, keyword3]
<span class="gu">  tools: [tool1, tool2]</span>
<span class="gu">---</span>

<span class="gh"># Lesson Title</span>

<span class="gu">## Context</span>
When this lesson applies...

<span class="gu">## Pattern</span>
Recommended approach:
<span class="sb">```python</span>
<span class="c1"># Example code</span>
<span class="sb">```</span>

<span class="gu">## Outcome</span>
What happens when you follow this pattern...
</pre></div>
</div>
<section id="metadata-fields">
<h3>Metadata Fields<a class="headerlink" href="#metadata-fields" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt><strong>match</strong> (required)</dt><dd><p>Specifies when the lesson should be included:</p>
<ul class="simple">
<li><p><strong>keywords</strong>: List of words/phrases that trigger inclusion</p></li>
<li><p><strong>tools</strong>: List of tool names that trigger inclusion</p></li>
<li><p>At least one keyword or tool must be specified</p></li>
</ul>
</dd>
</dl>
<p><strong>Example</strong>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">match</span><span class="p">:</span>
<span class="w">  </span><span class="nt">keywords</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">git</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">commit</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">branch</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">tools</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">shell</span><span class="p p-Indicator">]</span>
<span class="nn">---</span>
</pre></div>
</div>
</section>
</section>
<section id="creating-lessons">
<h2>Creating Lessons<a class="headerlink" href="#creating-lessons" title="Link to this heading">#</a></h2>
<section id="basic-structure">
<h3>Basic Structure<a class="headerlink" href="#basic-structure" title="Link to this heading">#</a></h3>
<p>Create a <code class="docutils literal notranslate"><span class="pre">.md</span></code> file in your lessons directory with:</p>
<ol class="arabic simple">
<li><p>YAML frontmatter with match criteria</p></li>
<li><p>Clear title</p></li>
<li><p>Context section (when to use)</p></li>
<li><p>Pattern section (what to do)</p></li>
<li><p>Outcome section (expected results)</p></li>
</ol>
<p><strong>Example lesson</strong>:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
match:
  keywords: [commit message, git commit]
<span class="gu">  tools: [shell]</span>
<span class="gu">---</span>

<span class="gh"># Git Commit Messages</span>

<span class="gu">## Context</span>
When creating git commits in any repository.

<span class="gu">## Pattern</span>
Use Conventional Commits format:
<span class="sb">```</span>
<span class="sb">type(scope): description</span>

<span class="sb">Optional body</span>

<span class="sb">Co-authored-by: Name &lt;email&gt;</span>
<span class="sb">```</span>

<span class="gu">## Outcome</span>
Clear commit history, automated changelog generation.
</pre></div>
</div>
</section>
<section id="lesson-directories">
<h3>Lesson Directories<a class="headerlink" href="#lesson-directories" title="Link to this heading">#</a></h3>
<p>Lessons are loaded from:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~/.config/gptme/lessons/</span></code> - User-specific lessons</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./lessons/</span></code> - Project-specific lessons (if present)</p></li>
<li><p>Package lessons (examples in gptme)</p></li>
</ol>
<p>Organize lessons by category:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lessons/
├── tools/           # Tool-specific guidance
├── workflows/       # Process and workflow lessons
├── patterns/        # General patterns
└── README.md        # Category overview
</pre></div>
</div>
</section>
<section id="best-practices">
<h3>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">#</a></h3>
<p><strong>Keywords</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Use specific, relevant terms</p></li>
<li><p>Include variations (e.g., “commit”, “commits”, “committing”)</p></li>
<li><p>3-7 keywords per lesson is typical</p></li>
</ul>
</div></blockquote>
<p><strong>Tools</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Only list tools directly used in the lesson</p></li>
<li><p>Use exact tool names (e.g., “shell”, “python”, “browser”)</p></li>
</ul>
</div></blockquote>
<p><strong>Content</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Keep lessons concise (&lt; 100 lines preferred)</p></li>
<li><p>Focus on one specific pattern or issue</p></li>
<li><p>Include concrete examples</p></li>
<li><p>Show both anti-patterns and solutions</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h2>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading">#</a></h3>
<p>Control lesson behavior with these variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable/disable auto-include (default: true)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GPTME_LESSONS_AUTO_INCLUDE</span><span class="o">=</span><span class="nb">false</span>

<span class="c1"># Maximum lessons to include (default: 5)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GPTME_LESSONS_MAX_INCLUDED</span><span class="o">=</span><span class="m">3</span>

<span class="c1"># Refresh lessons each message (default: false)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">GPTME_LESSONS_REFRESH</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
</section>
<section id="keyword-extraction">
<h3>Keyword Extraction<a class="headerlink" href="#keyword-extraction" title="Link to this heading">#</a></h3>
<p>The system extracts keywords from both user and assistant messages to match relevant lessons. This unified approach ensures lessons are included based on all conversation context, providing guidance during both interactive and autonomous operation.</p>
</section>
</section>
<section id="cli-commands">
<h2>CLI Commands<a class="headerlink" href="#cli-commands" title="Link to this heading">#</a></h2>
<p>Several commands help you work with lessons:</p>
<section id="list-lessons">
<h3>List Lessons<a class="headerlink" href="#list-lessons" title="Link to this heading">#</a></h3>
<p>Show all available lessons:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/lesson<span class="w"> </span>list
</pre></div>
</div>
</section>
<section id="search-lessons">
<h3>Search Lessons<a class="headerlink" href="#search-lessons" title="Link to this heading">#</a></h3>
<p>Find lessons matching a query:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/lesson<span class="w"> </span>search<span class="w"> </span>keyword
</pre></div>
</div>
</section>
<section id="show-lesson-content">
<h3>Show Lesson Content<a class="headerlink" href="#show-lesson-content" title="Link to this heading">#</a></h3>
<p>Display a specific lesson:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/lesson<span class="w"> </span>show<span class="w"> </span>&lt;lesson-id&gt;
</pre></div>
</div>
</section>
<section id="refresh-lessons">
<h3>Refresh Lessons<a class="headerlink" href="#refresh-lessons" title="Link to this heading">#</a></h3>
<p>Reload lessons from disk:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/lesson<span class="w"> </span>refresh
</pre></div>
</div>
</section>
</section>
<section id="example-lessons">
<h2>Example Lessons<a class="headerlink" href="#example-lessons" title="Link to this heading">#</a></h2>
<p>The package includes example lessons in <code class="docutils literal notranslate"><span class="pre">docs/lessons/</span></code>:</p>
<p><strong>Tools</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shell.md</span></code> - Shell command guidelines</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python.md</span></code> - Python development patterns</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">browser.md</span></code> - Web browsing best practices</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">patch.md</span></code> - File editing patterns</p></li>
</ul>
</div></blockquote>
<p><strong>Workflows</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git.md</span></code> - Git workflow and commit conventions</p></li>
</ul>
</div></blockquote>
<p>These serve as templates for creating your own lessons.</p>
</section>
<section id="migration-guide">
<h2>Migration Guide<a class="headerlink" href="#migration-guide" title="Link to this heading">#</a></h2>
<section id="lessons-without-frontmatter">
<h3>Lessons Without Frontmatter<a class="headerlink" href="#lessons-without-frontmatter" title="Link to this heading">#</a></h3>
<p>If you have existing lessons without YAML frontmatter:</p>
<ol class="arabic simple">
<li><p>They will still work (backward compatible)</p></li>
<li><p>They won’t be auto-included (no match criteria)</p></li>
<li><p>Add frontmatter to enable auto-inclusion:</p></li>
</ol>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
match:
<span class="gu">  keywords: [your, keywords, here]</span>
<span class="gu">---</span>

<span class="gh"># Existing Lesson Title</span>
... existing content ...
</pre></div>
</div>
</section>
<section id="converting-lessons">
<h3>Converting Lessons<a class="headerlink" href="#converting-lessons" title="Link to this heading">#</a></h3>
<p>To convert an existing lesson:</p>
<ol class="arabic simple">
<li><p>Add YAML frontmatter at the top</p></li>
<li><p>Identify relevant keywords from the content</p></li>
<li><p>List any tools the lesson references</p></li>
<li><p>Test matching with <code class="docutils literal notranslate"><span class="pre">/lesson</span> <span class="pre">search</span></code></p></li>
</ol>
<p><strong>Before</strong>:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Shell Best Practices</span>

When using the shell tool...
</pre></div>
</div>
<p><strong>After</strong>:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
match:
  keywords: [shell, bash, command]
<span class="gu">  tools: [shell]</span>
<span class="gu">---</span>

<span class="gh"># Shell Best Practices</span>

When using the shell tool...
</pre></div>
</div>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h2>
<section id="lessons-not-appearing">
<h3>Lessons Not Appearing<a class="headerlink" href="#lessons-not-appearing" title="Link to this heading">#</a></h3>
<p>If lessons aren’t being included:</p>
<ol class="arabic simple">
<li><p>Check indexing: Look for “Indexed n lessons” in logs</p></li>
<li><p>Verify keywords: Use <code class="docutils literal notranslate"><span class="pre">/lesson</span> <span class="pre">search</span></code> to test matching</p></li>
<li><p>Check limits: Ensure <code class="docutils literal notranslate"><span class="pre">GPTME_LESSONS_MAX_INCLUDED</span></code> isn’t too low</p></li>
<li><p>Verify format: Ensure YAML frontmatter is valid</p></li>
</ol>
</section>
<section id="debug-lesson-matching">
<h3>Debug Lesson Matching<a class="headerlink" href="#debug-lesson-matching" title="Link to this heading">#</a></h3>
<p>Use verbose logging:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gptme<span class="w"> </span>--verbose
</pre></div>
</div>
<p>This shows which lessons match and why.</p>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="tools.html"><span class="doc">Tools</span></a> - Available tools that lessons can reference</p></li>
<li><p><a class="reference internal" href="config.html"><span class="doc">Configuration</span></a> - Configuration options</p></li>
<li><p><a class="reference internal" href="custom_tool.html"><span class="doc">Custom Tools</span></a> - Creating custom tools with lessons</p></li>
<li><p><a class="reference internal" href="agents.html"><span class="doc">Agents</span></a> - Using lessons with AI agents</p></li>
</ul>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tools.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tools</p>
      </div>
    </a>
    <a class="right-next"
       href="config.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Configuration</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-lessons-work">How Lessons Work</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lesson-format">Lesson Format</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata-fields">Metadata Fields</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-lessons">Creating Lessons</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-structure">Basic Structure</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lesson-directories">Lesson Directories</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables">Environment Variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keyword-extraction">Keyword Extraction</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cli-commands">CLI Commands</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-lessons">List Lessons</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#search-lessons">Search Lessons</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#show-lesson-content">Show Lesson Content</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refresh-lessons">Refresh Lessons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-lessons">Example Lessons</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#migration-guide">Migration Guide</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-without-frontmatter">Lessons Without Frontmatter</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-lessons">Converting Lessons</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-not-appearing">Lessons Not Appearing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-lesson-matching">Debug Lesson Matching</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Erik Bjäreholt
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Erik Bjäreholt.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>